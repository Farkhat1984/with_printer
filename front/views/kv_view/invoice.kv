<InvoiceView>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: [10, 10]
        canvas.before:
            Color:
                rgba: background_color
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            size_hint_y: None
            height: '80dp'
            orientation: 'horizontal'
            spacing: 10

            BoxLayout:
                height: '60dp'
                orientation: 'vertical'
                spacing: 10
                Label:
                    id: date
                    font_size: '10dp'
                    text: "date"
                    color: text_color
                    text_size: self.size
                    halign: 'left'
                Label:
                    id: invoice_number
                    text: root.displayed_text
                    font_size: '10dp'
                    color: text_color
                    text_size: self.size
                    halign: 'left'


                CustomTextInput:
                    id: contact
                    hint_text: 'Контакт'

            BoxLayout:
                height: '60dp'
                CustomTextInput:
                    id: additional_info
                    hint_text: 'Доп инфо'
                    size_hint_y: 1

        BoxLayout:
            orientation: 'vertical'
            spacing: 10

            GridLayout:
                size_hint_y: None
                height: '25dp'
                cols: 6
                spacing: 5
                canvas.before:
                    Color:
                        rgba: primary_color
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8]

                Label:
                    size_hint_x: 0.1
                    text: '№'
                    color: 1, 1, 1, 1
                    bold: True
                    font_size: '10dp'
                    halign: 'center'
                    valign: 'middle'

                Label:
                    size_hint_x: 0.45
                    text: 'Наименование'
                    color: 1, 1, 1, 1
                    bold: True
                    font_size: '10dp'
                    halign: 'center'
                    valign: 'middle'

                Label:
                    size_hint_x: 0.15
                    text: 'Количество'
                    color: 1, 1, 1, 1
                    bold: True
                    font_size: '10dp'
                    halign: 'center'
                    valign: 'middle'

                Label:
                    size_hint_x: 0.15
                    text: 'Цена'
                    color: 1, 1, 1, 1
                    bold: True
                    font_size: '10dp'
                    halign: 'center'
                    valign: 'middle'

                Label:
                    size_hint_x: 0.20
                    text: 'Сумма'
                    color: 1, 1, 1, 1
                    bold: True
                    font_size: '10dp'
                    halign: 'center'
                    valign: 'middle'


            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                size_hint_y: 1
                GridLayout:
                    cols: 1
                    id: table_content
                    size_hint_y: None
                    spacing: 4
                    row_default_height: '35dp'
                    height: self.minimum_height

        BoxLayout:
            size_hint_y: None
            height: '100dp'
            orientation: 'vertical'
            spacing: 10

            BoxLayout:
                size_hint_y: None
                height: '30dp'
                spacing: 10

                CustomButton:
                    text: 'Добавить строку'
                    on_release: root.add_row()
                    font_size: '10dp'

                CustomButton:
                    text: 'Удалить строку'
                    on_release: root.del_row()
                    font_size: '10dp'

            BoxLayout:
                size_hint_y: None
                height: '30dp'
                spacing: 10

                PaymentStatusButton:
                    id: payment_button
                    text: 'Не оплачено!'
                    on_release: root.payment_status()
                    font_size: '10dp'

                Label:
                    text: 'Общая сумма:'
                    color: text_color
                    bold: True
                    font_size: '15dp'

                Label:
                    id: total_sum
                    color: text_color
                    bold: True
                    font_size: '10dp'

            BoxLayout:
                size_hint_y: None
                height: '30dp'
                spacing: 10

                CustomButton:
                    text: 'Сохранить'
                    on_release: root.save_invoice()
                    font_size: '10dp'

                CustomButton:
                    text: 'Печать'
                    on_release: root.print_invoice()
                    font_size: '10dp'

                CustomButton:
                    text: 'Поделиться'
                    on_release: root.share_invoice()
                    font_size: '10dp'

                SecondaryButton:
                    text: 'Назад'
                    on_release: app.root.current = 'main'
                    font_size: '10dp'